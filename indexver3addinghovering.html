<!-- Popup showing only for last slur word in the slurList  -->


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div>
        <p>
            Lorem ipsum dolor sit amet consectetur crazy adipisicing elit. Quaerat alias iste quo exercitationem stupid
            nesciunt ea?
        </p>

        <p>
            Lorem ipsum, dolor sit amet stupid jihadi adipisicing elit. Magni minima adipisci architecto.
        </p>
    </div>

    <div class="class">
        <img src="" alt="">
        <div>
            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ipsa possimus quisquam temporibus
                reprehenderit nesciunt dignissimos sunt ipsum, nostrum modi? Iusto libero sed alias!
            </p>

            <h3>
                Lorem ipsum dolor sit.
            </h3>
        </div>
    </div>

    <p>
        Lorem ipsum dolor crazy stupid sit stupid amet consectetur adipisicing elit. Aut architecto illum dolorum
        mad.
    </p>

    <div>
        <button>Crazy mad</button>
        <button>Wow</button>
    </div>
    <script>
        const iconSrc = './info.svg';
        const iconAlt = 'Icon description'; // Optional: provide alt text for accessibility
        // const targetWords = ['crazy', 'stupid', 'jihadi']; // Replace with your list of target words
        const targetWords = ['stupid' , 'mad']; // Replace with your list of target words
        // const targetWords = ['crazy']; // Replace with your list of target words

        // Find all elements that contain any of the target words
        document.querySelectorAll('*').forEach(element => {
            targetWords.forEach(targetWord => {
                if (element.innerHTML.includes(targetWord)) {
                    const className = `icon-container-${targetWord}`;
                    // Split the innerHTML into parts to handle replacements
                    const parts = element.innerHTML.split(targetWord);
                    const replacedHTML = parts.join(`${targetWord}<span class="${className}"></span>`);

                    // Update the element with the replaced content
                    element.innerHTML = replacedHTML;

                    // Add icon after each occurrence of the target word
                    const iconContainers = element.querySelectorAll(`.${className}`);

                    // console.log(iconContainers);
                    iconContainers.forEach(container => {
                        // console.log(container) ; 
                        const icon = document.createElement('img');
                        icon.src = iconSrc;
                        icon.alt = iconAlt;
                        container.appendChild(icon);
                        icon.classList.add(`.icon-${targetWord}`) ; 

                    });
                    

                    const images = document.querySelector(`.icon-${targetWord}`)

                    images.forEach(icon =>  {
                        icon.addEventListener('mouseover', () => {
                            const popup = document.createElement('div');
                            popup.className = 'popup-content';
                            popup.textContent = "wow" ;
                            // Position the popup next to the icon (adjust as needed)
                            popup.style.position = 'absolute';
                            popup.style.left = `${icon.offsetLeft + icon.offsetWidth}px`;
                            popup.style.top = `${icon.offsetTop}px`;
                            // Append popup to the document body or relevant container
                            icon.appendChild(popup);
                            // container.appendChild(popup);

                            // Remove popup when mouseout
                            icon.addEventListener('mouseout', () => {
                                popup.remove();
                            });
                        });
                    })
                }
            });
        });


    </script>
</body>

</html>